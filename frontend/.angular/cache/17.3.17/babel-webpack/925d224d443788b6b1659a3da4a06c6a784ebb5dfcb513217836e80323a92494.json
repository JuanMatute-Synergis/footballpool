{"ast":null,"code":"import { inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../../core/services/auth.service';\nimport { GameService } from '../../core/services/game.service';\nimport { PickService } from '../../core/services/pick.service';\nimport { LeaderboardService } from '../../core/services/leaderboard.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction DashboardComponent_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 15);\n    i0.ɵɵtext(1, \"Admin\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵelement(1, \"div\", 17);\n    i0.ɵɵelementStart(2, \"p\", 18);\n    i0.ɵɵtext(3, \"Loading your dashboard...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"p\", 20);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_16_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.loadDashboardData());\n    });\n    i0.ɵɵtext(4, \"Try Again\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.error);\n  }\n}\nfunction DashboardComponent_div_17_button_57_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_17_button_57_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.router.navigate([\"/admin\"]));\n    });\n    i0.ɵɵelementStart(1, \"div\", 36);\n    i0.ɵɵtext(2, \"\\u2699\\uFE0F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h4\", 37);\n    i0.ɵɵtext(4, \"Admin Panel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 38);\n    i0.ɵɵtext(6, \"Manage users and settings\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardComponent_div_17_div_67_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 62);\n    i0.ɵɵtext(1, \"MNF\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_17_div_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 58)(1, \"div\", 59)(2, \"div\", 37);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, DashboardComponent_div_17_div_67_div_4_Template, 2, 0, \"div\", 60);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 61)(6, \"span\", 45);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const game_r5 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", game_r5.visitorTeam.name, \" @ \", game_r5.homeTeam.name, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", game_r5.isMonday);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.formatGameTime(game_r5.date));\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(ctx_r1.getPickStatusClass(game_r5.id));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.getPickStatus(game_r5.id));\n  }\n}\nfunction DashboardComponent_div_17_div_68_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 63);\n    i0.ɵɵtext(1, \" All games this week are completed \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_17_div_69_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 64)(1, \"button\", 52);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_17_div_69_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.router.navigate([\"/picks\"]));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" View all \", ctx_r1.upcomingGames.length, \" games \\u2192 \");\n  }\n}\nfunction DashboardComponent_div_17_div_80_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 65)(1, \"div\", 66);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 67)(4, \"div\", 68);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const game_r7 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", game_r7.visitorTeam.name, \" @ \", game_r7.homeTeam.name, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", game_r7.visitorTeam.score || 0, \" - \", game_r7.homeTeam.score || 0, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(ctx_r1.getResultClass(game_r7.id));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.getPickResult(game_r7.id));\n  }\n}\nfunction DashboardComponent_div_17_div_81_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 63);\n    i0.ɵɵtext(1, \" No completed games yet this week \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_17_div_91_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 73);\n    i0.ɵɵtext(1, \"(You)\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_17_div_91_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 65)(1, \"div\", 59)(2, \"div\", 69);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\")(5, \"div\", 37);\n    i0.ɵɵtext(6);\n    i0.ɵɵtemplate(7, DashboardComponent_div_17_div_91_span_7_Template, 2, 0, \"span\", 70);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 71);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"div\", 67)(11, \"div\", 72);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 71);\n    i0.ɵɵtext(14, \"points\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const entry_r8 = ctx.$implicit;\n    const i_r9 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMap(entry_r8.userId === (ctx_r1.currentUser == null ? null : ctx_r1.currentUser.id) ? \"bg-blue-50 -mx-3 px-3 py-2 rounded\" : \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i_r9 === 0 ? \"\\uD83E\\uDD47\" : i_r9 === 1 ? \"\\uD83E\\uDD48\" : i_r9 === 2 ? \"\\uD83E\\uDD49\" : i_r9 + 1, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", entry_r8.firstName, \" \", entry_r8.lastName, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", entry_r8.userId === (ctx_r1.currentUser == null ? null : ctx_r1.currentUser.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", entry_r8.correctPicks, \"/\", entry_r8.totalPicks, \" correct\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(entry_r8.totalPoints);\n  }\n}\nfunction DashboardComponent_div_17_div_92_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 63);\n    i0.ɵɵtext(1, \" No rankings available yet \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"div\", 23)(2, \"h2\", 24);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 25);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 26)(7, \"div\", 27)(8, \"h3\", 28);\n    i0.ɵɵtext(9, \"Picks This Week\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\", 29);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\", 30);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 27)(15, \"h3\", 28);\n    i0.ɵɵtext(16, \"Season Record\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"p\", 31);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"p\", 30);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"div\", 27)(22, \"h3\", 28);\n    i0.ɵɵtext(23, \"Current Rank\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"p\", 32);\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"p\", 30);\n    i0.ɵɵtext(27, \"This week\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"div\", 27)(29, \"h3\", 28);\n    i0.ɵɵtext(30, \"Total Points\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"p\", 33);\n    i0.ɵɵtext(32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"p\", 30);\n    i0.ɵɵtext(34, \"Season total\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(35, \"div\", 34)(36, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_17_Template_button_click_36_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.router.navigate([\"/picks\"]));\n    });\n    i0.ɵɵelementStart(37, \"div\", 36);\n    i0.ɵɵtext(38, \"\\uD83C\\uDFC8\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"h4\", 37);\n    i0.ɵɵtext(40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"p\", 38);\n    i0.ɵɵtext(42);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(43, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_17_Template_button_click_43_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.router.navigate([\"/leaderboard\"]));\n    });\n    i0.ɵɵelementStart(44, \"div\", 36);\n    i0.ɵɵtext(45, \"\\uD83C\\uDFC6\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"h4\", 37);\n    i0.ɵɵtext(47, \"Leaderboard\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"p\", 38);\n    i0.ɵɵtext(49, \"See rankings and standings\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(50, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_17_Template_button_click_50_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.router.navigate([\"/results\"]));\n    });\n    i0.ɵɵelementStart(51, \"div\", 36);\n    i0.ɵɵtext(52, \"\\uD83D\\uDCCA\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"h4\", 37);\n    i0.ɵɵtext(54, \"Results\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(55, \"p\", 38);\n    i0.ɵɵtext(56, \"View game outcomes\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(57, DashboardComponent_div_17_button_57_Template, 7, 0, \"button\", 40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(58, \"div\", 41)(59, \"div\", 42)(60, \"div\", 43)(61, \"h3\", 44);\n    i0.ɵɵtext(62);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(63, \"span\", 45);\n    i0.ɵɵtext(64);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(65, \"div\", 46)(66, \"div\", 47);\n    i0.ɵɵtemplate(67, DashboardComponent_div_17_div_67_Template, 10, 7, \"div\", 48)(68, DashboardComponent_div_17_div_68_Template, 2, 0, \"div\", 49)(69, DashboardComponent_div_17_div_69_Template, 3, 1, \"div\", 50);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(70, \"div\", 51)(71, \"div\", 41)(72, \"div\", 42)(73, \"div\", 43)(74, \"h3\", 44);\n    i0.ɵɵtext(75, \"Recent Results\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(76, \"button\", 52);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_17_Template_button_click_76_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.router.navigate([\"/results\"]));\n    });\n    i0.ɵɵtext(77, \" View All \\u2192 \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(78, \"div\", 46)(79, \"div\", 47);\n    i0.ɵɵtemplate(80, DashboardComponent_div_17_div_80_Template, 8, 7, \"div\", 53)(81, DashboardComponent_div_17_div_81_Template, 2, 0, \"div\", 49);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(82, \"div\", 41)(83, \"div\", 42)(84, \"div\", 43)(85, \"h3\", 44);\n    i0.ɵɵtext(86);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(87, \"button\", 52);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_17_Template_button_click_87_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.router.navigate([\"/leaderboard\"]));\n    });\n    i0.ɵɵtext(88, \" View Full \\u2192 \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(89, \"div\", 46)(90, \"div\", 47);\n    i0.ɵɵtemplate(91, DashboardComponent_div_17_div_91_Template, 15, 9, \"div\", 54)(92, DashboardComponent_div_17_div_92_Template, 2, 0, \"div\", 49);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(93, \"div\", 55)(94, \"p\", 56);\n    i0.ɵɵtext(95, \"\\uD83C\\uDF89 Your NFL Weekly Picks application is fully operational!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(96, \"p\", 57);\n    i0.ɵɵtext(97, \" All features are working: Authentication, Picks, Leaderboards, Results, and Admin Panel \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Welcome back, \", ctx_r1.currentUser == null ? null : ctx_r1.currentUser.firstName, \"! \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" NFL Picks - Week \", ctx_r1.currentWeek, \" of \", ctx_r1.currentSeason, \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r1.currentWeekPicks);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"out of \", ctx_r1.totalGames, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r1.seasonCorrect, \"-\", ctx_r1.seasonWrong, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.seasonPercentage, \"% correct\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"#\", ctx_r1.currentRank || \"-\", \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r1.totalPoints);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r1.hasAllPicks ? \"View Picks\" : \"Make Picks\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.hasAllPicks ? \"Review your selections\" : \"Pick winners for this week\", \" \");\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.currentUser == null ? null : ctx_r1.currentUser.isAdmin);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Week \", ctx_r1.currentWeek, \" Games\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r1.completedGames, \"/\", ctx_r1.totalGames, \" completed\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.upcomingGames.slice(0, 3));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.upcomingGames.length === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.upcomingGames.length > 3);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.completedGames.slice(0, 4));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.completedGames.length === 0);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Week \", ctx_r1.currentWeek, \" Leaders\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.topPlayers);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.topPlayers.length === 0);\n  }\n}\nexport let DashboardComponent = /*#__PURE__*/(() => {\n  class DashboardComponent {\n    constructor() {\n      this.authService = inject(AuthService);\n      this.router = inject(Router);\n      this.gameService = inject(GameService);\n      this.pickService = inject(PickService);\n      this.leaderboardService = inject(LeaderboardService);\n      this.loading = true;\n      this.error = '';\n      this.currentWeek = 1;\n      this.currentSeason = new Date().getFullYear();\n      // Stats\n      this.currentWeekPicks = 0;\n      this.seasonCorrect = 0;\n      this.seasonWrong = 0;\n      this.currentRank = 0;\n      this.totalPoints = 0;\n      // Games and picks\n      this.upcomingGames = [];\n      this.completedGames = [];\n      this.userPicks = [];\n      this.topPlayers = [];\n    }\n    get currentUser() {\n      return this.authService.currentUser;\n    }\n    get totalGames() {\n      return this.upcomingGames.length + this.completedGames.length;\n    }\n    get hasAllPicks() {\n      return this.currentWeekPicks >= this.upcomingGames.length;\n    }\n    get seasonPercentage() {\n      const total = this.seasonCorrect + this.seasonWrong;\n      return total > 0 ? (this.seasonCorrect / total * 100).toFixed(1) : '0.0';\n    }\n    ngOnInit() {\n      this.loadDashboardData();\n    }\n    loadDashboardData() {\n      this.loading = true;\n      this.error = '';\n      // Load current week games\n      this.gameService.getCurrentWeekGames().subscribe({\n        next: response => {\n          this.currentWeek = response.week;\n          this.upcomingGames = response.games.filter(g => g.status === 'scheduled');\n          this.completedGames = response.games.filter(g => g.status === 'final');\n          this.loadUserPicks();\n          this.loadLeaderboard();\n        },\n        error: error => {\n          console.error('Error loading games:', error);\n          this.error = 'Failed to load dashboard data';\n          this.loading = false;\n        }\n      });\n    }\n    loadUserPicks() {\n      if (!this.currentUser) return;\n      this.pickService.getUserPicks(this.currentWeek, this.currentSeason).subscribe({\n        next: response => {\n          this.userPicks = response.picks;\n          this.currentWeekPicks = this.userPicks.length;\n          this.calculateStats();\n        },\n        error: error => {\n          console.error('Error loading user picks:', error);\n          // Don't set loading to false here, let leaderboard complete\n        }\n      });\n    }\n    loadLeaderboard() {\n      this.leaderboardService.getWeeklyLeaderboard(this.currentWeek, this.currentSeason).subscribe({\n        next: response => {\n          this.topPlayers = response.leaderboard.slice(0, 5);\n          if (this.currentUser) {\n            const userEntry = response.leaderboard.find(entry => entry.userId === this.currentUser.id);\n            this.currentRank = userEntry?.rank || 0;\n            this.totalPoints = userEntry?.totalPoints || 0;\n          }\n          this.loading = false;\n        },\n        error: error => {\n          console.error('Error loading leaderboard:', error);\n          this.loading = false;\n        }\n      });\n    }\n    calculateStats() {\n      // Calculate season stats from picks\n      const correctPicks = this.userPicks.filter(pick => pick.isCorrect === true).length;\n      const incorrectPicks = this.userPicks.filter(pick => pick.isCorrect === false).length;\n      this.seasonCorrect = correctPicks;\n      this.seasonWrong = incorrectPicks;\n    }\n    formatGameTime(gameTime) {\n      const date = new Date(gameTime);\n      const now = new Date();\n      const diffHours = (date.getTime() - now.getTime()) / (1000 * 60 * 60);\n      if (diffHours < 24 && diffHours > 0) {\n        return `Today ${date.toLocaleTimeString('en-US', {\n          hour: 'numeric',\n          minute: '2-digit'\n        })}`;\n      }\n      return date.toLocaleDateString('en-US', {\n        weekday: 'short',\n        month: 'short',\n        day: 'numeric',\n        hour: 'numeric',\n        minute: '2-digit'\n      });\n    }\n    getPickStatus(gameId) {\n      const pick = this.userPicks.find(p => p.gameId === gameId);\n      return pick ? 'Picked' : 'Pending';\n    }\n    getPickStatusClass(gameId) {\n      const pick = this.userPicks.find(p => p.gameId === gameId);\n      return pick ? 'px-2 py-1 bg-green-100 text-green-800 rounded text-xs' : 'px-2 py-1 bg-red-100 text-red-800 rounded text-xs';\n    }\n    getPickResult(gameId) {\n      const pick = this.userPicks.find(p => p.gameId === gameId);\n      if (!pick) return 'No Pick';\n      if (pick.isCorrect === null) return 'Pending';\n      return pick.isCorrect ? '✓ Correct' : '✗ Wrong';\n    }\n    getResultClass(gameId) {\n      const pick = this.userPicks.find(p => p.gameId === gameId);\n      if (!pick || pick.isCorrect === null) return 'text-gray-500 text-xs';\n      return pick.isCorrect ? 'text-green-600 text-xs font-medium' : 'text-red-600 text-xs font-medium';\n    }\n    logout() {\n      this.authService.logout();\n      this.router.navigate(['/auth']);\n    }\n    static {\n      this.ɵfac = function DashboardComponent_Factory(t) {\n        return new (t || DashboardComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: DashboardComponent,\n        selectors: [[\"app-dashboard\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 18,\n        vars: 6,\n        consts: [[1, \"min-h-screen\", \"bg-gray-50\"], [1, \"bg-white\", \"shadow-sm\", \"border-b\", \"border-gray-200\"], [1, \"max-w-7xl\", \"mx-auto\", \"px-4\", \"sm:px-6\", \"lg:px-8\"], [1, \"flex\", \"justify-between\", \"h-16\"], [1, \"flex\", \"items-center\"], [1, \"text-xl\", \"font-bold\", \"text-gray-900\"], [1, \"flex\", \"items-center\", \"space-x-4\"], [1, \"text-gray-700\"], [\"class\", \"ml-2 bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded\", 4, \"ngIf\"], [1, \"text-gray-500\", \"hover:text-gray-700\", 3, \"click\"], [1, \"max-w-7xl\", \"mx-auto\", \"py-6\", \"sm:px-6\", \"lg:px-8\"], [1, \"px-4\", \"py-6\", \"sm:px-0\"], [\"class\", \"text-center py-8\", 4, \"ngIf\"], [\"class\", \"bg-red-50 border border-red-200 rounded-lg p-4 mb-6\", 4, \"ngIf\"], [\"class\", \"space-y-8\", 4, \"ngIf\"], [1, \"ml-2\", \"bg-blue-100\", \"text-blue-800\", \"text-xs\", \"px-2\", \"py-1\", \"rounded\"], [1, \"text-center\", \"py-8\"], [1, \"inline-block\", \"animate-spin\", \"rounded-full\", \"h-8\", \"w-8\", \"border-b-2\", \"border-blue-600\"], [1, \"mt-2\", \"text-gray-600\"], [1, \"bg-red-50\", \"border\", \"border-red-200\", \"rounded-lg\", \"p-4\", \"mb-6\"], [1, \"text-red-800\"], [1, \"mt-2\", \"btn-primary\", 3, \"click\"], [1, \"space-y-8\"], [1, \"text-center\"], [1, \"text-3xl\", \"font-extrabold\", \"text-gray-900\", \"sm:text-4xl\"], [1, \"mt-4\", \"text-xl\", \"text-gray-600\"], [1, \"grid\", \"grid-cols-1\", \"gap-6\", \"sm:grid-cols-2\", \"lg:grid-cols-4\"], [1, \"card\", \"p-6\", \"text-center\"], [1, \"text-lg\", \"font-medium\", \"text-gray-900\"], [1, \"mt-2\", \"text-3xl\", \"font-extrabold\", \"text-blue-600\"], [1, \"mt-1\", \"text-gray-500\"], [1, \"mt-2\", \"text-3xl\", \"font-extrabold\", \"text-green-600\"], [1, \"mt-2\", \"text-3xl\", \"font-extrabold\", \"text-purple-600\"], [1, \"mt-2\", \"text-3xl\", \"font-extrabold\", \"text-orange-600\"], [1, \"grid\", \"grid-cols-1\", \"gap-4\", \"sm:grid-cols-2\", \"lg:grid-cols-4\"], [1, \"card\", \"p-6\", \"text-center\", \"hover:shadow-lg\", \"transition-shadow\", \"cursor-pointer\", 3, \"click\"], [1, \"text-3xl\", \"mb-2\"], [1, \"font-medium\"], [1, \"text-sm\", \"text-gray-600\", \"mt-1\"], [1, \"card\", \"p-4\", \"text-center\", \"hover:shadow-lg\", \"transition-shadow\", \"cursor-pointer\", 3, \"click\"], [\"class\", \"card p-4 text-center hover:shadow-lg transition-shadow cursor-pointer\", 3, \"click\", 4, \"ngIf\"], [1, \"card\"], [1, \"p-6\", \"border-b\"], [1, \"flex\", \"justify-between\", \"items-center\"], [1, \"text-lg\", \"font-semibold\"], [1, \"text-sm\", \"text-gray-600\"], [1, \"p-6\"], [1, \"space-y-3\"], [\"class\", \"flex items-center justify-between p-3 bg-gray-50 rounded-lg\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"text-center py-4 text-gray-500\", 4, \"ngIf\"], [\"class\", \"text-center pt-2\", 4, \"ngIf\"], [1, \"grid\", \"grid-cols-1\", \"lg:grid-cols-2\", \"gap-6\"], [1, \"text-blue-600\", \"hover:text-blue-800\", \"text-sm\", 3, \"click\"], [\"class\", \"flex items-center justify-between\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"flex items-center justify-between\", 3, \"class\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\", \"p-6\", \"text-center\", \"bg-gradient-to-r\", \"from-green-50\", \"to-blue-50\", \"border-green-200\"], [1, \"text-green-800\", \"font-medium\", \"mb-2\"], [1, \"text-sm\", \"text-green-700\"], [1, \"flex\", \"items-center\", \"justify-between\", \"p-3\", \"bg-gray-50\", \"rounded-lg\"], [1, \"flex\", \"items-center\", \"space-x-3\"], [\"class\", \"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs\", 4, \"ngIf\"], [1, \"flex\", \"items-center\", \"space-x-2\"], [1, \"px-2\", \"py-1\", \"bg-yellow-100\", \"text-yellow-800\", \"rounded\", \"text-xs\"], [1, \"text-center\", \"py-4\", \"text-gray-500\"], [1, \"text-center\", \"pt-2\"], [1, \"flex\", \"items-center\", \"justify-between\"], [1, \"text-sm\"], [1, \"text-right\"], [1, \"text-sm\", \"font-medium\"], [1, \"text-lg\"], [\"class\", \"text-blue-600 text-sm\", 4, \"ngIf\"], [1, \"text-xs\", \"text-gray-500\"], [1, \"font-bold\"], [1, \"text-blue-600\", \"text-sm\"]],\n        template: function DashboardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"nav\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h1\", 5);\n            i0.ɵɵtext(6, \"\\uD83C\\uDFC8 NFL Weekly Picks\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(7, \"div\", 6)(8, \"span\", 7);\n            i0.ɵɵtext(9);\n            i0.ɵɵtemplate(10, DashboardComponent_span_10_Template, 2, 0, \"span\", 8);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"button\", 9);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_11_listener() {\n              return ctx.logout();\n            });\n            i0.ɵɵtext(12, \" Logout \");\n            i0.ɵɵelementEnd()()()()();\n            i0.ɵɵelementStart(13, \"div\", 10)(14, \"div\", 11);\n            i0.ɵɵtemplate(15, DashboardComponent_div_15_Template, 4, 0, \"div\", 12)(16, DashboardComponent_div_16_Template, 5, 1, \"div\", 13)(17, DashboardComponent_div_17_Template, 98, 24, \"div\", 14);\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(9);\n            i0.ɵɵtextInterpolate2(\" Welcome, \", ctx.currentUser == null ? null : ctx.currentUser.firstName, \" \", ctx.currentUser == null ? null : ctx.currentUser.lastName, \"! \");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.currentUser == null ? null : ctx.currentUser.isAdmin);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.error);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          }\n        },\n        dependencies: [CommonModule, i1.NgForOf, i1.NgIf],\n        encapsulation: 2\n      });\n    }\n  }\n  return DashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}